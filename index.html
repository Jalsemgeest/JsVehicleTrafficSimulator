<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--
/**********************************************************************
 * This file is part of a Vehicle Traffic Simulator written 
 * entirely in Javascript, HTML and CSS.  The application allows for 
 * the creation of roadways upon which vehicles will travel and
 * attempt to avoid collisions with other vehicles while obeying the
 * rules of the road including traffic lights and speed limits
 * 
 * @Created: 04/09/2013
 * @Author: Jason Holt Smith (bicarbon8@gmail.com)
 * @Version: 0.2.0
 * Copyright (c) 2013 Jason Holt Smith. JsVehicleTrafficSimulator is 
 * distributed under the terms of the GNU General Public License.
 * 
 * This file is part of JsVehicleTrafficSimulator.
 * 
 * JsVehicleTrafficSimulator is free software: you can redistribute it 
 * and/or modify it under the terms of the GNU General Public License 
 * as published by the Free Software Foundation, either version 3 of 
 * the License, or (at your option) any later version.
 * 
 * JsVehicleTrafficSimulator is distributed in the hope that it will 
 * be useful, but WITHOUT ANY WARRANTY; without even the implied 
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
 * See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with JsVehicleTrafficSimulator.  If not, see 
 * <http://www.gnu.org/licenses/>.
 **********************************************************************/
-->
<html lang="en">
<head>
<title>Traffic Simulator</title>
<style type="text/css">

</style>
<script language="javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="js/loader.js"></script>
</head>
    <body>
        <script type="text/javascript">
            $(window).resize(function() {
                // JSVTS.Controller.InitPageElements();
                // JSVTS.Controller.render();
            });
        </script>
        <div id="div_Controls" style="position:absolute;overflow:auto;">
            <fieldset>
                <legend onclick="$('#tbl_Draw').toggle();">Draw Controls</legend>
                <table id="tbl_Draw" width="100%" style="display:none;">
                    <tr>
                        <td>
                            
                        </td>
                        <td>
                            Name: <input id="tbox_RoadName" type="text" value="Road1" />
                        </td>
                        <td>
                            
                        </td>
                    </tr>
                    <tr>
                        <td>
                            
                        </td>
                        <td>
                            Name: <input id="tbox_LaneName" type="text" value="Lane1" />
                        </td>
                        <td>
                            
                        </td>
                        <td>
                            
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input id="btn_AddSegment" type="submit" onClick="AddSegment(); return false;"
                                value="Add Segment" />
                        </td>
                        <td>
                            Start: <input id="tbox_SegmentStart" type="text" ondblclick="BeginCaptureCoordinate('START');"
                                value="x,y" />
                        </td>
                        <td>
                            End: <input id="tbox_SegmentEnd" type="text" ondblclick="BeginCaptureCoordinate('END');"
                                value="x,y" />
                        </td>
                        <td>
                            Speed Limit: <input id="tbox_RoadSpeed" type="text" value="30" />
                        </td>
                    </tr>
                    <tr>
                        <td valign="top">
                            <input id="btn_AddStopLight" type="submit" onClick="AddStopLight(); return false;"
                                value="Add StopLight" />
                        </td>
                        <td valign="top">
                            Location: <input id="tbox_StopLightLocation" type="text" ondblclick="BeginCaptureCoordinate('LIGHT');"
                                value="x,y" />
                        </td>
                        <td valign="top">
                            Green Duration (sec): <input id="tbox_StopLightDuration" type="text" value="30" /><br />
                        </td>
                        <td>
                            Start State: <select id="opt_StopLightState">
                                            <option>Green</option>
                                            <option>Yellow</option>
                                            <option>Red</option>
                                        </select>
                        </td>
                    </tr>
                </table>
            </fieldset>
            <fieldset>    
                <legend onclick="$('#tbl_Simulation').toggle();">Simulation Controls</legend>
                <table id="tbl_Simulation" width="100%" style="display:none;">
                    <tr>
                        <td>
                            <input id="btn_SimStart" type="submit" onClick="ToggleSimulationState();return false;" 
                                value="Begin Simulation" /> 
                            Elapsed: <input id="tbox_ElapsedTime" type="text" size="50" /><br />
                            Scale: <input id="tbox_MapScale" type="text" size="5" value="1" />
                            <input id="btn_UpdateScale" type="submit" onClick="UpdateMapScale(); return false;"
                                value="Update Scale" /><br />
                            Threads: <input id="tbox_Threads" type="text" size="5" value="2" />
                            <input id="btn_UpdateThreads" type="submit" onClick="UpdateThreads(); return false;" 
                                value="Update Threads" /><br />
                            <input id="btn_AddVehicles" type="submit" onClick="AddVehicles(); return false;"
                                value="Add Vehicles" /><br />
                        </td>
                    </tr>
                </table>
            </fieldset>
            <fieldset>
                <legend onclick="$('#tbl_Xml').toggle();">Xml Input/Output</legend>
                <table id="tbl_Xml" width="100%" style="display:none;">
                    <tr>
                        <td>
                            <input id="btn_CreateObjects" type="submit" onclick="SetFromJson(); return false;" value="Parse Xml" />
                            <input id="btn_CreateXml" type="submit" onclick="GetAsXml(); return false;" value="Generate Xml" /><br />
                            <textarea id="tbox_Xml" rows="10" cols="80">
{"mover":{"millisecondstep":2,"elapsedmillisec":0},"map":{"scale":1,"segments":[{"start":{"x":16,"y":194},"end":{"x":194,"y":194},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":194,"y":194},"end":{"x":194,"y":106},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":194,"y":106},"end":{"x":16,"y":106},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":16,"y":106},"end":{"x":16,"y":194},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":10,"y":200},"end":{"x":106,"y":200},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":106,"y":200},"end":{"x":200,"y":200},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":200,"y":200},"end":{"x":200,"y":100},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":200,"y":100},"end":{"x":10,"y":100},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":10,"y":100},"end":{"x":10,"y":200},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":10,"y":200},"end":{"x":10,"y":206},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":10,"y":206},"end":{"x":50,"y":206},"speedlimit":35,"roadname":"On Ramp","stoplights":[{"location":{"x":50,"y":206},"changeseconds":5,"startstate":0}],"vehicles":[],"preference":0,"isinlet":true},{"start":{"x":50,"y":206},"end":{"x":100,"y":206},"speedlimit":35,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false},{"start":{"x":100,"y":206},"end":{"x":106,"y":200},"speedlimit":60,"roadname":"Jason Ave. N.","stoplights":[],"vehicles":[],"preference":0,"isinlet":false}]}}
                            </textarea><br />
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>
    </body>
</html>