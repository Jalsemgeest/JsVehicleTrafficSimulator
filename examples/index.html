<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--
/**********************************************************************
 * This file is part of a Vehicle Traffic Simulator written 
 * entirely in Javascript, HTML and CSS.  The application allows for 
 * the creation of roadways upon which vehicles will travel and
 * attempt to avoid collisions with other vehicles while obeying the
 * rules of the road including traffic lights and speed limits
 * 
 * @Created: 04/09/2013
 * @Author: Jason Holt Smith (bicarbon8@gmail.com)
 * @Version: 0.2.0
 * Copyright (c) 2013 Jason Holt Smith. JsVehicleTrafficSimulator is 
 * distributed under the terms of the GNU General Public License.
 * 
 * This file is part of JsVehicleTrafficSimulator.
 * 
 * JsVehicleTrafficSimulator is free software: you can redistribute it 
 * and/or modify it under the terms of the GNU General Public License 
 * as published by the Free Software Foundation, either version 3 of 
 * the License, or (at your option) any later version.
 * 
 * JsVehicleTrafficSimulator is distributed in the hope that it will 
 * be useful, but WITHOUT ANY WARRANTY; without even the implied 
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
 * See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with JsVehicleTrafficSimulator.  If not, see 
 * <http://www.gnu.org/licenses/>.
 **********************************************************************/
-->
<html lang="en">
<head>
<title>Traffic Simulator</title>
<style type="text/css">
html, body { height: 100%; }
html {
    display: table;
    width: 100%;
}
body {
    display: table-cell;
    margin: 0px;
    padding: 0px;
    overflow: hidden;
    text-align: center;
    vertical-align: middle;
}
div#controls {
    position: absolute;
    margin: 0px;
    padding: 0px;
    top: 0px;
    left: 0px;
    z-index: 1000;
    color: rgb(255, 255, 255);
}
</style>
<script type="text/javascript" src="js/jsvts-deps.min.js"></script>
<script type="text/javascript" src="js/roadways/mergeloop.js"></script>
<script type="text/javascript" src="js/roadways/intersection.js"></script>
<script type="text/javascript">
function toggleStart () {
    JSVTS.toggleAnimationState();
    var button = document.querySelector('#start');
    if (JSVTS.keepMoving) {
        button.innerHTML = "||";
    } else {
        button.innerHTML = "&#10152;";
    }
}

function updateStep(increase) {
    if (increase) {
        JSVTS.timeStep += 2;
    } else {
        JSVTS.timeStep -= 2;
        if (JSVTS.timeStep < 2) { JSVTS.timeStep = 2; }
    }
}

function toggleScenarioDisplay() {
    var scenarios = document.querySelector('#scenarios');
    var control = document.querySelector('#scenarioDropdown');
    var bounds = control.getBoundingClientRect();
    if (scenarios.style.display === "none") {
        scenarios.style.cssText = "position: absolute; top: " + bounds.bottom + "px; left: " + bounds.left + "px; display: block;";
    } else {
        scenarios.style.display = "none";
    }
}
</script>
</head>
    <body onload="JSVTS.setup();" onresize="JSVTS.resize();">
        <div id="controls">
            <button id="start" onclick="toggleStart();">&#10152;</button>
            <button id="scenarioDropdown" onclick="toggleScenarioDisplay();">Scenario</button>
            <button id="stepPlus" onclick="updateStep(true);">&#43;</button>
            <button id="stepMinus" onclick="updateStep(false);">&#8722;</button>
        </div>
        <div id="scenarios" style="display: none;">
            <button onclick="toggleScenarioDisplay(); JSVTS.defaultRoadway = 0; JSVTS.reset();">Merge Loop</button><br />
            <button onclick="toggleScenarioDisplay(); JSVTS.defaultRoadway = 1; JSVTS.reset();">Intersection</button>
        </div>
    </body>
</html>